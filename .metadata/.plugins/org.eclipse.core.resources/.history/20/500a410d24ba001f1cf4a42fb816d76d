/*
 * interface.c
 *
 *  Created on: Dec 12, 2024
 *      Author: utente
 */

#include "interface.h"
#include <stdio.h>

// Funzione per cancellare lo schermo
void clear_screen() {
    printf("\033[H\033[J");
}

// Funzione per inizializzare l'interfaccia
void init_interface() {
    clear_screen();

    printf("        +---------------------------------------------+\r\n");
    printf("        |               SMARTWATCH                    |\r\n");
    printf("        |                 GROUP 1                     |\r\n");
    printf("        |     Carmine Vardaro, Alessia Parente,       |\r\n");
    printf("        |            Antonio D'Arienzo                |\r\n");
    printf("        +---------------------------------------------+\r\n");
    printf("        |          TEMPERATURE MONITORING             |\r\n");
    printf("        | Temp: 0.0 \xB0 C                               |\r\n");
    printf("        |                                             |\r\n");
    printf("        +---------------------------------------------+\r\n");
    printf("        |             HEART MONITORING                |\r\n");
    printf("        | Heart Rate: 0 bpm                           |\r\n");
    printf("        | HR Variability: 0.0 ms                      |\r\n");
    printf("        |                                             |\r\n");
    printf("        +---------------------------------------------+\r\n");
    printf("        |           MOVEMENT MONITORING               |\r\n");
    printf("        | Steps: 0                                    |\r\n");
    printf("        | Activity: Standing...                       |\r\n");
    printf("        | Red LED is on                               |\r\n");
    printf("        +---------------------------------------------+\r\n");
    printf("        |               INFORMATION                   |\r\n");
    printf("        | Press button 1 to measure body temperature  |\r\n");
    printf("        | Press button 2 to monitor heart             |\r\n");
    printf("        +---------------------------------------------+\r\n");
}

// Funzione per aggiornare solo il numero dei passi sulla riga 23
void update_steps(int steps) {
    // Posiziona il cursore sulla riga 23, colonna 11 (dove inizia "Steps: ")
    printf("\033[17;11H");

    // Cancella la parte della riga da quella posizione in poi
    printf("\033[K");

    // Stampa "Steps: " seguito dal numero dei passi aggiornato
    printf("Steps: %d                                    |", steps);

    fflush(stdout);  // Assicura che il buffer venga svuotato immediatamente
}



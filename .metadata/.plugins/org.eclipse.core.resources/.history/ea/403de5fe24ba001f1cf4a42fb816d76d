/*
 * interface.c
 *
 *  Created on: Dec 12, 2024
 *      Author: utente
 */

#include "interface.h"
#include <stdio.h>

// Funzione per cancellare lo schermo
void clear_screen() {
    printf("\033[H\033[J");
}

// Funzione per inizializzare l'interfaccia
void init_interface() {
    clear_screen();

    printf("        +---------------------------------------------+\r\n");
    printf("        |               SMARTWATCH                    |\r\n");
    printf("        |                 GROUP 1                     |\r\n");
    printf("        |     Carmine Vardaro, Alessia Parente,       |\r\n");
    printf("        |            Antonio D'Arienzo                |\r\n");
    printf("        +---------------------------------------------+\r\n");
    printf("        |          TEMPERATURE MONITORING             |\r\n");
    printf("        | Temp: 0.0 \xB0 C                               |\r\n");
    printf("        |                                             |\r\n");
    printf("        +---------------------------------------------+\r\n");
    printf("        |             HEART MONITORING                |\r\n");
    printf("        | Heart Rate: 0 bpm                           |\r\n");
    printf("        | HR Variability: 0.0 ms                      |\r\n");
    printf("        |                                             |\r\n");
    printf("        +---------------------------------------------+\r\n");
    printf("        |           MOVEMENT MONITORING               |\r\n");
    printf("        | Steps: 0                                    |\r\n");
    printf("        | Activity: Standing...                       |\r\n");
    printf("        | Red LED is on                               |\r\n");
    printf("        +---------------------------------------------+\r\n");
    printf("        |               INFORMATION                   |\r\n");
    printf("        | Press button 1 to measure body temperature  |\r\n");
    printf("        | Press button 2 to monitor heart             |\r\n");
    printf("        +---------------------------------------------+\r\n");
}

// Funzione per aggiornare solo il numero dei passi sulla riga 23
void update_steps(int steps) {
    // Posiziona il cursore sulla riga 23, colonna 18 (dove inizia il numero dei passi)
    printf("\033[17;18H");

    // Sovrascrivi i tre caratteri del vecchio numero con spazi
    printf("   ");

    // Torna alla posizione iniziale del numero e scrivi il nuovo valore
    printf("\033[17;18H");
    printf("%-3d", steps); // Scrive il numero dei passi con larghezza fissa di 3 caratteri

    fflush(stdout); // Assicura che l'aggiornamento venga immediatamente visualizzato
}



